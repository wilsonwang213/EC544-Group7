<!DOCTYPE HTML>
<html>
<head>
	<title>EC544 Group7</title>
	<link href="css/bootstrap.css" rel="stylesheet" type="text/css" media="all">
	<script src="js/jquery-1.11.0.min.js"></script>
	<link rel="stylesheet" href="css/controlPad.css" type = "text/css" media= "all" charset="utf-8">
	<link href="css/style.css" rel="stylesheet" type="text/css" media="all"/>
	<link href="css/localize.css" rel="stylesheet" type="text/css" media="all"/>

	<script src="/socket.io/socket.io.js"></script>

	<link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,900|Quicksand:400,700|Questrial" rel="stylesheet" />
	<link href="default.css" rel="stylesheet" type="text/css" media="all" />
	<link href="fonts.css" rel="stylesheet" type="text/css" media="all" />
	<!--<link href="css/bootstrap.css" rel="stylesheet" type="text/css" media="all">-->

	<!-- Custom Theme files -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<script src="js/prefixfree.min.js"></script>

</head>
<body>
<script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
<script src="http://code.jquery.com/jquery-1.11.1.js"></script>
	<!--header start here-->
	<div class="header">
		<h3 class="main-head" style="color: white">EC544 Group7</h3> <!--320 240-->
		<!-- Start Wheel speed & Direction-->
		<!--<div class="head-strip">-->
			<!--&lt;!&ndash; <div class="head-strip-left">-->
				<!--<span class="joe"><img src="images/1.png" alt=""> </span>-->
				<!--<div class="joe-text">-->
					<!--<h2>Welcome back Joe Black</h2>-->
					<!--<p>Es bueno volver a verte de nuevo por ac√°!</p>-->
				<!--</div>-->
			<!--</div> &ndash;&gt;-->
			<!--<div class="head-strip-left">-->
				<!--<ul class="strip-date">-->
					<!--<li><span class="cal"> </span><h4>Wheel Speed:</h4></li>-->
					<!--<li><h4>10</h4></li>-->
				<!--</ul>-->

				<!--</div>-->
			<!--<div class="head-strip-right">-->
				<!--<ul class="strip-date">-->
					<!--<li><span class="cal"> </span><h4>Direction:</h4></li>-->
					<!--<li><h4>North</h4></li>-->
				<!--</ul>-->

				<!--</div>-->
					<!--<div class="clearfix"> </div>-->
			<!--</div>-->

		<!--End wheel speed & direction-->

		<!--Left part start here-->
		<div class="header-bottom">
			<div class="col-md-4 header-bot-left">
			<!--Camera control start here-->
			<div class="user-profile">
				<div class="today-status" style="background-color:deepskyblue; height: 60px">
					<div class="today-text"><h6 style="text-align: center; font-size: x-large">Webcam</h6></div>
					<div class="clearfix"> </div>
				</div>
				<div class="user-prof-top" style="height:260px; background-color:#fafafa">
        <!-- Get Webcan -->
				<img id="video" src="http://192.168.1.186:8080/?action=stream" height="250" width="300"/>

				</div>
				<div class="clearfix"> </div>
			</div>
			<!--camera control end here-->

			<!--Remote control start here-->
			<div class="ring-states">
				<div class="today-status" style="background-color: deepskyblue; height: 60px">
					<div class="today-text">
							<h6 style="text-align: center; font-size: x-large">Remote Control</h6>
					</div>
					<div class="clearfix"> </div>
				</div>

				<div style="background-color: gainsboro">
					<!-- Control Pad -->
					<!-- Forward Back Left Right -->
					<div class="dpad-pane">
						<div class="dpad-hole"></div>
						<div id="dpad">
							<canvas height="150" id="dpad-body" width="150"></canvas>
							<button onClick="goStraight()" class="button" id="up"></button>

							<button onClick="goBack()" class="button" id="down"></button>

							<button onClick="turnLeft()" class="button" id="left"></button>

							<button onClick="turnRight()" class="button" id="right"></button>
						</div>
					</div>


					<!-- Control Crawler Start or Stop -->
					<div class="action-pane">
						<div class="buttons">
							<label onClick="goStraight()" class="label">Start<button class="button" id="b"></button></label>
							<label class="label">Stop<button onClick="carStop()" class="button" id="a"></button></label>
						</div>
					</div>

				</div>

				<div id="welcome" class="container" style="background-color: deepskyblue; width: 370px">
					<div class="title" style="background-color: transparent">
						<div style="margin-left:10px; margin-top:0px;">
							<button onClick="autoMode()" class="button" style="width: 70px; height: 40px">Auto</button>
							<button onClick="manualMode()" class="button" style="width: 70px; height: 40px">Manual</button>

							<!---->
							<!--&lt;!&ndash;<input id="checkbox" class="switch-input" type="checkbox" onclick onchange="onoff()"/>&ndash;&gt;-->
							<!--&lt;!&ndash;<span class="switch-label" data-on="On" data-off="Off"></span>&ndash;&gt;-->
							<!--&lt;!&ndash;<span class="switch-handle"></span>&ndash;&gt;-->
						</div>
					</div>
				</div>

			</div>
			<!--Remote control end here-->

		</div>
	</div>
  <!--End left part-->

	<!--Right Part-->
	<div class="col-md-8 header-bot-right">
		<!--Localization start here-->
		<div class="analytic">
			<div class="analytic-top">
				<div class="infograpy" style="background-color: transparent"><h6 style="text-align: center; font-size: xx-large; color: deepskyblue">Localization</h6></div>
				<div class="clearfix"> </div>
				<div style="height:560px">
					<img id="room" class="displayed" src="images/Room.jpg" margin-top="30px" position="relative" width="720" height="540" alt="" />
					<img id="Red" class="point" src="images/Red.png" alt="CAR" position="absolute" height="30px" width="30px"/>

			</div>
    </div>

	<!--<div id="welcome" class="container">-->
		<!--<div class="title">-->
			<!--<label class="switch" style="margin-left:445px; margin-top:0px;">-->
				<!--<input id="checkbox" class="switch-input" type="checkbox" onclick onchange="onoff()"/>-->
				<!--<span class="switch-label" data-on="On" data-off="Off"></span>-->
				<!--<span class="switch-handle"></span>-->
			<!--</label>-->
		<!--</div>-->
	<!--</div>-->



</body onkeyup="Keytest(event)">
<script src="js/index.js">
</script>

<script>
    // send data to arduino.
    var socket = io();
    function goStraight(){
		socket.emit('remoteCar', "2");

    }

    function goBack(){
    	socket.emit('remoteCar', "3");

    }

    function turnLeft() {
    	socket.emit('remoteCar', "4");

    }

    function turnRight() {
    	socket.emit('remoteCar', "5");

    }

    function carStop() {
    	socket.emit('remoteCar', "6");

    }

    function autoMode() {
    	socket.emit('remoteCar', "0");

    }

    function manualMode() {
    	socket.emit('remoteCar', "1");

    }

</script>

<script>
	function Keytest(event){
		if(event.keyCode == 87){
			goStraight();
		}
		if(event.keyCode == 83 ){
			goBack();
		}
		if(event.keyCode == 65){
			turnLeft();
		}
		if(event.keyCode ==68){
			turnRight();
		}
		if(event.keyCode == 67){
			carStop();
		}
		if (event.keyCode == 66){
			autoMode();
		}
		if(event.keyCode == 86){
			manualMode();
		}
	}
</script>
<script>
	var socket = io();
	var locationArr = [["75px", "260px"], ["75px", "520px"], ["380px","520px"], ["645px", "520px"],
		["645px", "260px"], ["645px", "85px"], ["380px", "85px"], ["75px", "85px"]];
	var location1 = ["",""];
	var location2 = ["",""];
	var location3 = ["",""];
	socket.on('location', function(location){
		location3 = location2;
		location2 = location1;
		location1 = locationArr[parseInt(location)-1];
	});
</script>
<script>
   var Red = null;
   var xbeer = null;
   var xbeel = null;
   var xbeeb = null;
   var i=1;
   function init(){
	Red = document.getElementById('Red');
         Red.style.position= 'absolute';
         Red.style.left ="0px";
			   Red.style.top="250px";

    }
  	function position(){
        Red.style.left = location1[0];
        Red.style.top = location1[1];
				// Red.style.left = 31 + Math.round(location1[0] * 2.95) + 'px';
				// Red.style.top = '165px';
				// Red.style.left = parseInt(Red.style.left) + 20 + 'px';
				// Red.style.top = parseInt(Red.style.top) + 10 + 'px';
		}
    window.onload = init;
		setInterval(function(){
		position();
			   }, 500);
</script>
<!--<script>-->
	<!--var partition;-->
	<!--var remoteCar;-->
	<!--var flag = false;-->
	<!--function init(){-->
		<!--var Red = document.getElementById("Red");-->
		<!--Red.style.position= 'absolute';-->
		<!--Red.style.left = "950px";-->
		<!--Red.style.top="650px";-->
	<!--}-->
	<!--function forward(){-->
		<!--if(flag){-->
			<!--remoteCar = 2;-->
			<!--socket.emit('remoteCar', remoteCar.toString());-->
		<!--}-->
	<!--}-->
	<!--function back(){-->
		<!--if(flag){-->
			<!--remoteCar = 3;-->
			<!--socket.emit('remoteCar', remoteCar.toString());-->
		<!--}-->
	<!--}-->
	<!--function left(){-->
		<!--if(flag){-->
			<!--//alert("F");-->
			<!--remoteCar = 4;-->
			<!--socket.emit('remoteCar', remoteCar.toString());-->
		<!--}-->
	<!--}-->
	<!--function right(){-->
		<!--if(flag){-->
			<!--remoteCar = 5;-->
			<!--socket.emit('remoteCar', remoteCar.toString());-->
		<!--}-->
	<!--}-->
	<!--function stop(){-->
		<!--//alert("S");-->
		<!--if(flag){-->
			<!--remoteCar = 6;-->
			<!--socket.emit('remoteCar', remoteCar.toString());-->
		<!--}-->
	<!--}-->
	<!--function onoff(){-->
		<!--flag = !flag;-->
<!--//	alert(flag.toString());-->
		<!--if(flag){-->
			<!--remoteCar = 1;-->
			<!--socket.emit('remoteCar', remoteCar.toString());-->
		<!--}else{-->
			<!--remoteCar = 0;-->
			<!--socket.emit('remoteCar', remoteCar.toString());-->
		<!--}-->
	<!--}-->
	<!--window.onload = init;-->
<!--</script>-->
</html>
